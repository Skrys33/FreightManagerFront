<div *ngIf="alertService.alert$ | async as alertMessage" id="alert" [ngClass]="alertClasses" role="alert" >
  {{ alertMessage }}
  <button type="button" class="btn btn-close" data-dismiss="alert" aria-label="Close" (click)="alertService.clearAlert()">
  </button>
</div>
<div id="declareMovementContent" >
  <div>
    <h2 id="title">{{title}}</h2>
  </div>
  <form  id="declareMovementForm" class="container">
    <div class="row">
      <label class="col-11 col-sm-2" for="warehouse">Magasin d'origine</label>
      <select class="col-5 col-sm-1" name="warehouse" id="warehouse" [(ngModel)]="warehouseDestination.label">
        <option value="" disabled selected hidden>nom</option>
        <option value="warehouseA">Entrepôt A</option>
        <option value="warehouseB">Entrepôt B</option>
        <option value="warehouseC">Entrepôt C</option>
        <option value="warehouseD">Entrepôt D</option>
      </select>
      <input class="col-5 col-sm-1" type="text" id="warehouseCode" name="warehouseCode" placeholder="code" [(ngModel)]="warehouseDestination.code"/>

      <label class="col-11 col-sm-2" for="customsStatus">Status Douanier</label>
      <select class="col-11 col-sm-1" name="customsStatus" id="customsStatus" [(ngModel)]="movement.customsStatus">
        <option value="" disabled selected hidden>T..</option>
        <option value="t1">T1</option>
        <option value="t2">T2</option>
        <option value="t3">T3</option>
        <option value="t4">T4</option>
      </select>
    </div>

    <div class="row">
        <label class="col-11 col-sm-2" for="reference">Référence</label>
        <select class="col-5 col-sm-1" name="type" id="type" [(ngModel)]="movement.goods.referenceType">
          <option value="" disabled selected hidden>type</option>
          <option value="AWB">AWB</option>
          <option value="ODJ">ODJ</option>
          <option value="CIB">CIB</option>
          <option value="QOI">QOI</option>
        </select>

        <input class="col-5 col-sm-2" type="text" id="reference" name="reference" placeholder="reference" [(ngModel)]="movement.goods.reference"/>
    </div>

    <div class="row" *ngIf="movement.typeMovement == 'Out'">
      <label class="col-11 col-sm-2" for="typeAuthorization">Apurement</label>
      <select class="col-5 col-sm-1" name="type" id="typeAuthorization" [(ngModel)]="movement.typeAuthorization">
        <option value="" disabled selected hidden>type</option>
        <option value="T1">T1</option>
        <option value="T2">T2</option>
        <option value="T3">T3</option>
        <option value="T4">T4</option>
      </select>

      <input class="col-5 col-sm-2" type="text" id="referenceAuthorization" name="referenceAuthorization" placeholder="reference" [(ngModel)]="movement.referenceAuthorization"/>
    </div>

    <div class="row">
      <label class="col-11 col-sm-3" for="descritiption">Nature de la marchandise</label>
      <input class="col-11 col-sm-8" type="text" id="descritiption" name="descritiption" placeholder="description" [(ngModel)]="movement.goods.description"/>
    </div>

    <div class="row">
      <label class="col-11 col-sm-2" for="quantity">Quantité</label>
      <input class="col-11 col-sm-1" type="number" min="1" step="1" id="quantity" name="quantity" [(ngModel)]="movement.goods.quantity"/>

      <label class="col-11 col-sm-2" for="weight">Poids (kg)</label>
      <input class="col-11 col-sm-1" type="number" min="0" id="weight" name="weight" [(ngModel)]="movement.goods.weight"/>
    </div>

    <div class="row">
      <label class="col-11 col-sm-2" for="quantityTotalReference">Quantité totale</label>
      <input class="col-11 col-sm-1" type="number" min="1" step="1" id="quantityTotalReference" name="quantityTotalReference" [(ngModel)]="movement.goods.quantityTotalReference"/>

      <label class="col-11 col-sm-2" for="weightTotalReference">Poids total (kg)</label>
      <input class="col-11 col-sm-1" type="number" min="0" id="weightTotalReference" name="weightTotalReference" [(ngModel)]="movement.goods.weightTotalReference"/>
    </div>

    <div class="row">
      <label class="col-11 col-sm-2" for="movementDateTime">Date du mouvement</label>
      <input class="col-11 col-sm-2"
        type="datetime-local"
        id="movementDateTime"
        name="movementDateTime" [(ngModel)]="movementDate"/>
    </div>

  </form>

  <div id="declareMovementBtnDiv">
    <button class="btn btn-drawn" id="declareMovementCancelBtn" (click)="clear()">Annuler</button>
    <button class="btn btn-drawn" type="submit" (click)="onSubmit()">
      <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480V396.4c0-4 1.5-7.8 4.2-10.7L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"/></svg>
      Envoyer</button>
  </div>
</div>
